<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Profe Civilizado ¬∑ Recursos Bachillerato</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Recursos interactivos de Matem√°ticas y Programaci√≥n." />
  <link rel="stylesheet" href="assets/style.css" />
  <script defer src="assets/main.js"></script>
  <style>
    .details-block { margin: 10px 0; }
    .details-block summary { font-weight: 600; cursor: pointer; }
    .form-row{display:grid;grid-template-columns:160px 1fr;gap:10px;align-items:center;margin:8px 0}
    .result{font-weight:700;text-align:left;padding:10px;border:1px solid rgba(37,99,235,.25);border-radius:12px;background:rgba(37,99,235,.06);white-space:pre-wrap}
    .hidden{display:none}
    .embed-wrap{overflow:hidden;border-radius:12px;box-shadow:var(--shadow);background:var(--card)}
    .spacer{height:6px}
    .muted{color:var(--muted)}
    .status{font-size:14px;margin:8px 0}
    @media (max-width: 600px){ .form-row{ grid-template-columns: 1fr; } }
  </style>
</head>

<body>
<nav>
  <div class="nav-inner">
    <a href="index.html" class="brand">Profe Civilizado</a>
    <div class="links">
      <a href="index.html">Inicio</a>
      <a href="sobre-mi.html">Sobre m√≠</a>
      <a href="recursos-eso.html" class="active">Recursos ESO</a>
      <a href="recursos-bachillerato.html">Recursos Bachillerato</a>
      <a href="contacto.html">Contacto</a>
    </div>
    <button id="themeToggle" class="toggle">üåì</button>
  </div>
</nav>

<main class="content">
<section class="panel">

<h3>Recursos interactivos</h3>
<p class="muted">Despliega lo que necesites. Compacto, claro y listo para clase.</p>

<!-- 1) GEOGEBRA -->
<details class="details-block">
  <summary>üìê Applet GeoGebra</summary>
  <div class="spacer"></div>
  <div class="embed-wrap">
    <iframe src="https://www.geogebra.org/material/iframe/id/hqfjmn2p"
      width="100%" height="500" style="border:0;"></iframe>
  </div>
</details>

<!-- 2) PIT√ÅGORAS -->
<details class="details-block" open>
<summary>üêç Pit√°goras (Python en el navegador)</summary>

<p class="status" id="py-status">Cargando Python‚Ä¶</p>

<div class="form-row">
  <label>¬øQu√© datos tienes?</label>
  <select id="py-mode" disabled>
    <option value="">Selecciona</option>
    <option value="catetos">Dos catetos</option>
    <option value="hip">Cateto + hipotenusa</option>
  </select>
</div>

<div id="py-catetos" class="hidden">
  <div class="form-row"><label>Cateto a</label><input id="py-a" type="number"></div>
  <div class="form-row"><label>Cateto b</label><input id="py-b" type="number"></div>
  <button class="btn" id="py-run-catetos" disabled>Calcular</button>
</div>

<div id="py-hip" class="hidden">
  <div class="form-row"><label>Cateto</label><input id="py-cat" type="number"></div>
  <div class="form-row"><label>Hipotenusa</label><input id="py-hipo" type="number"></div>
  <button class="btn" id="py-run-hip" disabled>Calcular</button>
</div>

<div id="py-out" class="result hidden"></div>

<script src="https://cdn.jsdelivr.net/pyodide/v0.26.2/full/pyodide.js"></script>
<script>
let pyodide;
const statusEl = document.getElementById("py-status");
const modeSel  = document.getElementById("py-mode");
const outEl    = document.getElementById("py-out");

function show(id){ document.getElementById(id).classList.remove("hidden"); }
function hide(id){ document.getElementById(id).classList.add("hidden"); }
function out(msg){ outEl.textContent = msg; outEl.classList.remove("hidden"); }

(async () => {
  pyodide = await loadPyodide();
  await pyodide.runPythonAsync(`
import math
from math import gcd

def hipotenusa(a,b): return math.sqrt(a*a+b*b)
def cateto_faltante(c,h): return math.sqrt(h*h-c*c)

super = {"0":"‚Å∞","1":"¬π","2":"¬≤","3":"¬≥","4":"‚Å¥","5":"‚Åµ","6":"‚Å∂","7":"‚Å∑","8":"‚Å∏","9":"‚Åπ"}
def exp(n): return "".join(super[c] for c in str(n))

def mostrar(coefs):
    g=len(coefs)-1; s=""
    for i,c in enumerate(coefs):
        if c==0: continue
        e=g-i; sign=" + " if c>0 and s else " - " if c<0 else ""
        v=abs(c); k="" if v==1 and e>0 else str(v)
        t=k if e==0 else f"{k}x" if e==1 else f"{k}x{exp(e)}"
        s+=sign+t
    return s or "0"

def factorizar_web(coefs):
    r=[]
    r.append("Polinomio:")
    r.append(mostrar(coefs))
    r.append("")
    if len(coefs)==2:
        a,b=coefs; x=-b//a
        r.append("x = "+str(x))
    else:
        r.append("No se puede factorizar m√°s.")
    return "\\n".join(r)
`);
  statusEl.textContent="Python listo";
  modeSel.disabled=false;
})();
</script>
</details>

<!-- 3) FACTORIZADOR -->
<details class="details-block">
<summary>üßÆ Factorizador de polinomios</summary>

<div class="form-row">
  <label>Grado</label>
  <input id="poly-degree" type="number" value="2" min="0" max="5">
</div>

<div id="poly-coefs"></div>
<button class="btn" id="poly-run">Factorizar</button>
<div id="poly-out" class="result hidden"></div>

<script>
const deg = document.getElementById("poly-degree");
const box = document.getElementById("poly-coefs");
const btn = document.getElementById("poly-run");
const outp= document.getElementById("poly-out");

function rebuild(){
  box.innerHTML="";
  for(let e=deg.value;e>=0;e--){
    box.innerHTML+=`<div class="form-row"><label>x${e}</label><input type="number" value="0"></div>`;
  }
}
rebuild();
deg.addEventListener("change",rebuild);

btn.addEventListener("click", async ()=>{
  const vals=[...box.querySelectorAll("input")].map(i=>parseInt(i.value||0));
  pyodide.globals.set("C",vals);
  const r=await pyodide.runPythonAsync("factorizar_web(C)");
  outp.textContent=r;
  outp.classList.remove("hidden");
});
</script>

</details>

</section>
</main>

<footer>
¬© Profe Civilizado ‚Äî Hecho con HTML & CSS
</footer>
</body>
</html>
